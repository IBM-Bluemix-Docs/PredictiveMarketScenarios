---

copyright:
  years: 2017
lastupdated: "2017-05-19"

---
{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:codeblock: .codeblock}

# Getting started with {{site.data.keyword.predmarketscenario_short}} (Experimental)
{: #getting_started_predmarketscenario_short}

The {{site.data.keyword.predmarketscenario_short}} service generates a predictive financial market scenario based on a change to a specified risk factor. This analysis is most commonly used to generate an alternate state of market conditions that can be used as input parameters to financial pricing models. For example, you can use this service to determine how interest rates, FX rates, and equity prices may react to a 5% decline in the price of oil. This scenario can then be applied to an investment portfolio using the financial models contained within the Simulated Instrument Analytics service.
{:shortdesc}

## Before you begin
The following steps show you how to obtain access to the {{site.data.keyword.predmarketscenario_short}} service and invoke API methods. To use the {{site.data.keyword.predmarketscenario_short}} REST API, it is important that you understand the basics of RESTful web services and JSON representations.
Ensure that you have cURL installed because you'll use cURL to call the API in the examples.

## Step 1: Create an application and bind it to the service

1.  Create an application that binds to the service instance.
2.  Review the service instance access credentials, similar to the following example:
```
{
  "accessToken": "<api-key>",
  "uri": "<service-url>"
}
```

## Step 2: Generate a scenario file

This operation creates a scenario file in CSV format based on a risk factor and its change. Shock values are expressed multiplicatively. A value of "1" for the shock assumes no change in the risk factor's value. In the following example, a value of 1.5 assumes a 50% increase in the risk factor.

To use the following example, replace api-key and service-url with your service credentials from step 1.

```
curl -X POST -H "X-IBM-Access-Token: <api-key>" -H "Content-Type: application/json" -d '{

    "market_change": {

        "risk_factor": "<risk-factor-id>",

        "shock": 1.5

    }

}' "<service-url>/api/v1/scenario/generate_predictive"
```
{:codeblock}

The service returns a scenario file containing the set of risk factors and how they are affected by the user supplied shock. This scenario file can be used as an input to the Simulated Instrument Analytics API to determine how a set of financial securities might behave under the alternate set of market conditions.

[comment]: <> (### Example scenario files)

[comment]: <> ([curve_shifts_sample.csv]http://public.dhe.ibm.com/software/analytics/solutions/en/fintech/curve_shifts_sample.csv is a scenario sample file representing different interest rate curve movements with both parallel and non-parallel shifts.)

[comment]: <> ([stresstests_sample.csv]http://public.dhe.ibm.com/software/analytics/solutions/en/fintech/stresstests_sample.csv is a scenario sample file representing a hypothetical flight to quality, whereby treasury curves fall, swap rates rise, and equities drop 10%.)

### Sample data sets

[FACTOR_IDS_TO_SHOCK.xlsx](http://public.dhe.ibm.com/software/analytics/solutions/en/fintech/FACTOR_IDS_TO_SHOCK.xlsx) contains the permissible factors on which an explicit shock can be applied. For example, if gold prices increases by 5%. The spreadsheet contains the `FACTOR ID` values that can be passed to the API as the `risk-factor-id` value in the preceding example.

[FACTOR_DESCRIPTIONS_FULL_SAMPLE_SET.xlsx](http://public.dhe.ibm.com/software/analytics/solutions/en/fintech/FACTOR_DESCRIPTIONS_FULL_SAMPLE_SET.xlsx) contains the full set of factor IDs that are returned for the scenario that is generated by the service and the factor's corresponding name and category.

[EXAMPLE_RESPONSE.csv](http://public.dhe.ibm.com/software/analytics/solutions/en/fintech/EXAMPLE_RESPONSE.csv) contains an example of a response from the service.
